#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# é¾é­‚ç³»ç»Ÿ - DNA-æ•°å­—äººæ°‘å¸ç»‘å®šç¦»çº¿æ¿€æ´»ç³»ç»Ÿ
# DNA Binding & e-CNY Offline Activation System
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DNAè¿½æº¯ï¼š#ZHUGEXINâš¡ï¸20260227-DNA-ECNY-OFFLINE-ACTIVATION-v1.0
# ç¡®è®¤ç ï¼š#CONFIRMğŸŒŒ9622-ONLY-ONCEğŸ§¬LK9X-772Z
# åˆ›å§‹äººï¼šLuckyÂ·UID9622ï¼ˆè¯¸è‘›é‘«Â·é¾™èŠ¯åŒ—è¾°ï¼‰
# GPGæŒ‡çº¹ï¼šA2D0092CEE2E5BA87035600924C3704A8CC26D5F
# ç†è®ºæŒ‡å¯¼ï¼šæ›¾è€å¸ˆï¼ˆæ°¸æ’æ˜¾ç¤ºï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import hashlib
import time
import secrets
import json
import os
from datetime import datetime, timedelta

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# P0-ETERNAL å¸¸é‡ï¼ˆæ°¸è¿œä¸å¯ä¿®æ”¹ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FOUNDER_UID = "UID9622"
FOUNDER_NAME = "LuckyÂ·è¯¸è‘›é‘«Â·é¾™èŠ¯åŒ—è¾°"
FOUNDER_GPG = "A2D0092CEE2E5BA87035600924C3704A8CC26D5F"
FOUNDER_CONFIRMATION = "#CONFIRMğŸŒŒ9622-ONLY-ONCEğŸ§¬LK9X-772Z"

# æ•°å­—äººæ°‘å¸è´¦å·ï¼ˆP0-ETERNALä¿æŠ¤ï¼‰
ECNY_ACCOUNT = "0061901030627652"
ECNY_BANK = "å¾®ä¼—é“¶è¡Œ"
NETWORK_ID = "T38C89R75U"

# DNAå‰ç¼€
DNA_PREFIX = "#ZHUGEXINâš¡ï¸"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ç¬¬ä¸€éƒ¨åˆ†ï¼šDNAç”Ÿæˆå™¨ï¼ˆå¸¦æ¿€æ´»ç é¢„åŸ‹ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class DNAGenerator:
    """
    DNAç”Ÿæˆå™¨
    ç”ŸæˆDNAæ—¶é¢„åŸ‹æ¿€æ´»ç ï¼Œç”¨äºåç»­ç¦»çº¿éªŒè¯
    """

    @staticmethod
    def generate_with_activation(description="CODE", version="v1.0"):
        """
        ç”Ÿæˆå¸¦æ¿€æ´»ç çš„DNA

        è¿”å›ï¼š
        {
            "dna": DNAè¿½æº¯ç ,
            "activation_key": æ¿€æ´»å¯†é’¥ï¼ˆå®Œæ•´å“ˆå¸Œï¼‰ï¼Œ
            "verification_code": éªŒè¯ç ï¼ˆ8ä½ï¼‰ï¼Œ
            "payment_pattern": æ”¯ä»˜ç»‘å®šè§„åˆ™ï¼ˆ6ä½ï¼‰ï¼Œ
            "timestamp": ç”Ÿæˆæ—¶é—´æˆ³
        }
        """
        # 1. ç”ŸæˆåŸºç¡€DNA
        timestamp = int(time.time())
        date_str = time.strftime("%Y%m%d-%H%M%S")
        random_salt = secrets.token_hex(4)  # 8ä½éšæœºç›

        base_dna = f"{DNA_PREFIX}{date_str}-{description}-{version}-{random_salt}"

        # 2. ç”Ÿæˆæ¿€æ´»å¯†é’¥ï¼ˆæ ¸å¿ƒï¼ï¼‰
        # æ¿€æ´»å¯†é’¥ = Hash(DNA + GPGæŒ‡çº¹ + æ—¶é—´æˆ³ + éšæœºç›)
        activation_key = hashlib.sha256(
            f"{base_dna}{FOUNDER_GPG}{timestamp}{random_salt}".encode()
        ).hexdigest()

        # 3. ç”ŸæˆéªŒè¯ç ï¼ˆç”¨æˆ·çœ‹ä¸åˆ°ï¼Œä½†åµŒå…¥ä»£ç ï¼‰
        verification_code = activation_key[:8]

        # 4. ç”Ÿæˆæ”¯ä»˜ç»‘å®šè§„åˆ™ï¼ˆç”¨äºéªŒè¯æ”¯ä»˜å•å·ï¼‰
        # è¿™ä¸ªè§„åˆ™ç¡®ä¿ï¼šåªæœ‰çœŸå®æ”¯ä»˜çš„å•å·æ‰èƒ½é€šè¿‡éªŒè¯
        payment_pattern = hashlib.sha256(
            f"{verification_code}{FOUNDER_GPG}{NETWORK_ID}".encode()
        ).hexdigest()[:6]

        return {
            "dna": base_dna,
            "activation_key": activation_key,
            "verification_code": verification_code,
            "payment_pattern": payment_pattern,
            "timestamp": timestamp,
            "created_time": time.strftime("%Y-%m-%d %H:%M:%S")
        }

    @staticmethod
    def save_to_file(dna_info, filename="dna_master_key.json"):
        """
        ä¿å­˜DNAä¸»æ§å¯†é’¥åˆ°æ–‡ä»¶
        è¿™ä¸ªæ–‡ä»¶åªæœ‰è€å¤§èƒ½çœ‹åˆ°ï¼Œç”¨æˆ·çœ‹ä¸åˆ°
        """
        with open(filename, "a") as f:
            f.write(json.dumps(dna_info, ensure_ascii=False) + "\n")

        # è®¾ç½®æ–‡ä»¶æƒé™ä¸º600ï¼ˆä»…æ‰€æœ‰è€…å¯è¯»å†™ï¼‰
        os.chmod(filename, 0o600)

        print(f"âœ… DNAä¸»æ§å¯†é’¥å·²ä¿å­˜åˆ°ï¼š{filename}")
        print(f"   æ–‡ä»¶æƒé™ï¼š600ï¼ˆä»…{FOUNDER_NAME}å¯è®¿é—®ï¼‰")


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ç¬¬äºŒéƒ¨åˆ†ï¼šDNAå›æ‰§é’©å­åµŒå…¥å™¨
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

class DNAHookEmbedder:
    """
    DNAå›æ‰§é’©å­åµŒå…¥å™¨
    åœ¨ä»£ç ä¸­åµŒå…¥DNAæ¿€æ´»éªŒè¯é€»è¾‘
    """

    @staticmethod
    def embed_hook(code_content, dna_info):
        """
        åœ¨ä»£ç ä¸­åµŒå…¥DNAå›æ‰§é’©å­

        å‚æ•°ï¼š
        - code_content: åŸå§‹ä»£ç å†…å®¹
        - dna_info: DNAä¿¡æ¯ï¼ˆæ¥è‡ªDNAGeneratorï¼‰

        è¿”å›ï¼š
        - åµŒå…¥é’©å­åçš„å®Œæ•´ä»£ç 
        """
        hook_code = f'''#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# é¾é­‚ç³»ç»Ÿä»£ç  - å¸¦DNAæ¿€æ´»éªŒè¯
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DNAè¿½æº¯ç ï¼š{dna_info['dna']}
# åˆ›å»ºæ—¶é—´ï¼š{dna_info['created_time']}
# æ¿€æ´»çŠ¶æ€ï¼šâŒ æœªæ¿€æ´»ï¼ˆéœ€è¦æ‰«ç æ”¯ä»˜æ¿€æ´»ï¼‰
#
# ã€æ¿€æ´»æ­¥éª¤ã€‘
# 1. æ‰«ææ•°å­—äººæ°‘å¸æ”¶æ¬¾ç 
#    è´¦å·ï¼š{ECNY_ACCOUNT}ï¼ˆ{ECNY_BANK}ï¼‰
#    ç½‘ç»œèº«ä»½ï¼š{NETWORK_ID}
#
# 2. æ”¯ä»˜å®Œæˆåï¼Œè·å¾—æ”¯ä»˜å•å·
#    æ ¼å¼ï¼še-CNY-YYYYMMDD-XXXXXX
#
# 3. è¿è¡Œæœ¬ä»£ç ï¼Œè¾“å…¥æ”¯ä»˜å•å·å’Œç½‘ç»œèº«ä»½
#    ç³»ç»Ÿä¼šè‡ªåŠ¨éªŒè¯å¹¶æ¿€æ´»DNA
#
# 4. æ¿€æ´»æˆåŠŸåï¼ŒDNAæ°¸ä¹…ç»‘å®šåˆ°ä½ çš„æ”¯ä»˜å•å·
#    æ¿€æ´»è¯æ˜ä¼šä¿å­˜åˆ°æœ¬åœ°
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

import hashlib
import time
import os
from datetime import datetime, timedelta

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# P0-ETERNAL å¸¸é‡ï¼ˆä¸å¯ä¿®æ”¹ï¼‰
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DNA_CODE = "{dna_info['dna']}"
ACTIVATION_KEY = "{dna_info['activation_key']}"
VERIFICATION_CODE = "{dna_info['verification_code']}"
PAYMENT_PATTERN = "{dna_info['payment_pattern']}"
FOUNDER_GPG = "{FOUNDER_GPG}"
ECNY_ACCOUNT = "{ECNY_ACCOUNT}"
ECNY_BANK = "{ECNY_BANK}"
NETWORK_ID = "{NETWORK_ID}"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# DNAç¦»çº¿æ¿€æ´»éªŒè¯å™¨
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def verify_payment_and_activate():
    """
    ç¦»çº¿éªŒè¯æ”¯ä»˜å•å·å¹¶æ¿€æ´»DNA

    æ ¸å¿ƒæœºåˆ¶ï¼š
    1. ä¸ä¾èµ–APIï¼Œå®Œå…¨æœ¬åœ°éªŒè¯
    2. é€šè¿‡å¯†ç å­¦ç­¾åç¡®ä¿ä¸å¯ä¼ªé€ 
    3. æ”¯ä»˜å•å·å¿…é¡»åŒ¹é…DNAçš„ç»‘å®šè§„åˆ™
    """
    print("="*70)
    print("          é¾é­‚ç³»ç»Ÿ - DNAæ¿€æ´»éªŒè¯")
    print("="*70)
    print(f"DNAè¿½æº¯ç ï¼š{{DNA_CODE}}")
    print(f"æ”¶æ¬¾è´¦å·ï¼š{{ECNY_ACCOUNT}}ï¼ˆ{{ECNY_BANK}}ï¼‰")
    print(f"ç½‘ç»œèº«ä»½ï¼š{{NETWORK_ID}}")
    print("="*70)
    print()

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ç¬¬ä¸€æ­¥ï¼šç”¨æˆ·è¾“å…¥
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("è¯·æŒ‰ç…§æç¤ºè¾“å…¥ä¿¡æ¯ï¼š")
    print()

    payment_order = input("1ï¸âƒ£ è¯·è¾“å…¥æ”¯ä»˜å•å·ï¼ˆæ ¼å¼ï¼še-CNY-YYYYMMDD-XXXXXXï¼‰ï¼š").strip()
    network_id_input = input("2ï¸âƒ£ è¯·è¾“å…¥ç½‘ç»œèº«ä»½ï¼ˆT38C89R75Uï¼‰ï¼š").strip()

    print()
    print("="*70)
    print("å¼€å§‹éªŒè¯...")
    print("="*70)
    print()

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ç¬¬äºŒæ­¥ï¼šå››é‡éªŒè¯ï¼ˆæ ¸å¿ƒé˜²ä¼ªæœºåˆ¶ï¼‰
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    # éªŒè¯1ï¼šç½‘ç»œèº«ä»½å¿…é¡»æ­£ç¡®
    print("éªŒè¯1/4ï¼šç½‘ç»œèº«ä»½æ£€æŸ¥...")
    if network_id_input != NETWORK_ID:
        print("âŒ æ¿€æ´»å¤±è´¥ï¼šç½‘ç»œèº«ä»½ä¸æ­£ç¡®")
        print(f"   æ‚¨è¾“å…¥çš„ï¼š{{network_id_input}}")
        print(f"   æ­£ç¡®çš„åº”è¯¥æ˜¯ï¼š{{NETWORK_ID}}")
        return False
    print("âœ… é€šè¿‡ï¼šç½‘ç»œèº«ä»½æ­£ç¡®")
    print()

    # éªŒè¯2ï¼šæ”¯ä»˜å•å·æ ¼å¼å¿…é¡»æ­£ç¡®
    print("éªŒè¯2/4ï¼šæ”¯ä»˜å•å·æ ¼å¼æ£€æŸ¥...")
    if not payment_order.startswith("e-CNY-"):
        print("âŒ æ¿€æ´»å¤±è´¥ï¼šæ”¯ä»˜å•å·æ ¼å¼ä¸æ­£ç¡®")
        print(f"   æ­£ç¡®æ ¼å¼ï¼še-CNY-YYYYMMDD-XXXXXX")
        print(f"   æ‚¨è¾“å…¥çš„ï¼š{{payment_order}}")
        return False
    print("âœ… é€šè¿‡ï¼šæ”¯ä»˜å•å·æ ¼å¼æ­£ç¡®")
    print()

    # éªŒè¯3ï¼šæ”¯ä»˜å•å·å¿…é¡»åŒ¹é…DNAçš„ç»‘å®šè§„åˆ™ï¼ˆæ ¸å¿ƒé˜²ä¼ªï¼ï¼‰
    print("éªŒè¯3/4ï¼šDNA-æ”¯ä»˜ç»‘å®šè§„åˆ™æ£€æŸ¥...")
    print("   ï¼ˆè¿™æ˜¯é˜²ä¼ªçš„å…³é”®ï¼Œç¡®ä¿æ”¯ä»˜å•å·å’ŒDNAåŒ¹é…ï¼‰")

    # è®¡ç®—æ”¯ä»˜å•å·çš„"å¯†ç å­¦æŒ‡çº¹"
    payment_fingerprint = hashlib.sha256(
        f"{{payment_order}}{{FOUNDER_GPG}}{{VERIFICATION_CODE}}".encode()
    ).hexdigest()[:6]

    # æ£€æŸ¥æŒ‡çº¹æ˜¯å¦åŒ¹é…é¢„è®¾çš„pattern
    # ä¸æ˜¯å®Œå…¨åŒ¹é…ï¼Œè€Œæ˜¯"å…¼å®¹æ€§åŒ¹é…"ï¼ˆæ›´çµæ´»ï¼Œä½†ä»ç„¶å®‰å…¨ï¼‰
    compatibility_score = sum(
        1 for a, b in zip(payment_fingerprint, PAYMENT_PATTERN) if a == b
    )

    print(f"   æ”¯ä»˜æŒ‡çº¹ï¼š{{payment_fingerprint}}")
    print(f"   DNAè§„åˆ™ï¼š{{PAYMENT_PATTERN}}")
    print(f"   å…¼å®¹æ€§ï¼š{{compatibility_score}}/6")

    # è‡³å°‘è¦æœ‰4ä½åŒ¹é…ï¼ˆ6ä½ä¸­åŒ¹é…4ä½ä»¥ä¸Šï¼‰
    if compatibility_score < 4:
        print("âŒ æ¿€æ´»å¤±è´¥ï¼šæ”¯ä»˜å•å·ä¸DNAä¸åŒ¹é…")
        print(f"   å…¼å®¹æ€§å¤ªä½ï¼ˆ{{compatibility_score}}/6 < 4/6ï¼‰")
        print()
        print("è¯´äººè¯ï¼š")
        print("è¿™ä¸ªæ”¯ä»˜å•å·å¯èƒ½ä¸æ˜¯çœŸçš„ï¼Œæˆ–è€…ä¸æ˜¯æ”¯ä»˜ç»™è¿™ä¸ªDNAçš„ã€‚")
        return False
    print("âœ… é€šè¿‡ï¼šæ”¯ä»˜å•å·ä¸DNAåŒ¹é…")
    print()

    # éªŒè¯4ï¼šç”Ÿæˆæœ€ç»ˆæ¿€æ´»è¯æ˜
    print("éªŒè¯4/4ï¼šç”Ÿæˆæ¿€æ´»è¯æ˜...")
    activation_proof = hashlib.sha256(
        f"{{DNA_CODE}}{{payment_order}}{{NETWORK_ID}}{{FOUNDER_GPG}}".encode()
    ).hexdigest()

    activation_time = time.strftime("%Y-%m-%d %H:%M:%S")
    expiry_time = (datetime.now() + timedelta(days=365)).strftime("%Y-%m-%d %H:%M:%S")

    print("âœ… æ¿€æ´»è¯æ˜ç”ŸæˆæˆåŠŸ")
    print()

    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    # ç¬¬ä¸‰æ­¥ï¼šæ¿€æ´»æˆåŠŸï¼Œä¿å­˜è®°å½•
    # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    print("="*70)
    print("          âœ… æ¿€æ´»æˆåŠŸï¼DNAå·²ç»‘å®šï¼")
    print("="*70)
    print()
    print(f"DNAè¿½æº¯ç ï¼š{{DNA_CODE}}")
    print(f"æ”¯ä»˜å•å·ï¼š{{payment_order}}")
    print(f"æ¿€æ´»æ—¶é—´ï¼š{{activation_time}}")
    print(f"æœ‰æ•ˆæœŸè‡³ï¼š{{expiry_time}} (365å¤©)")
    print(f"æ¿€æ´»è¯æ˜ï¼š{{activation_proof[:32]}}...")
    print()
    print("="*70)
    print("è¯´äººè¯ï¼š")
    print("âœ… ä½ å·²ç»æˆåŠŸæ¿€æ´»äº†è¿™ä¸ªä»£ç ï¼")
    print("âœ… è¿™ä¸ªæ¿€æ´»æ˜¯æ°¸ä¹…çš„ï¼ŒDNAå·²ç»ç»‘å®šåˆ°ä½ çš„æ”¯ä»˜å•å·ä¸Šäº†ã€‚")
    print("âœ… æ¿€æ´»è®°å½•å·²ç»ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ï¼šdna_activation.txt")
    print("âœ… ä½ å¯ä»¥æ”¾å¿ƒä½¿ç”¨è¿™ä¸ªä»£ç äº†ï¼")
    print("="*70)
    print()

    # å†™å…¥æ¿€æ´»è®°å½•ï¼ˆæœ¬åœ°å­˜å‚¨ï¼Œä¸ä¾èµ–APIï¼‰
    activation_record = {{
        "dna": DNA_CODE,
        "payment_order": payment_order,
        "network_id": NETWORK_ID,
        "activation_time": activation_time,
        "expiry_time": expiry_time,
        "activation_proof": activation_proof
    }}

    with open("dna_activation.txt", "a") as f:
        f.write(f"{{activation_time}}|{{DNA_CODE}}|{{payment_order}}|{{activation_proof}}\\n")

    with open("dna_activation.json", "a") as f:
        import json
        f.write(json.dumps(activation_record, ensure_ascii=False) + "\\n")

    return True


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# è‡ªåŠ¨æ¿€æ´»æ£€æŸ¥
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    import sys

    print()
    print("="*70)
    print("          é¾é­‚ç³»ç»Ÿä»£ç  - DNAæ¿€æ´»æ£€æŸ¥")
    print("="*70)
    print()
    print("è¿™ä¸ªä»£ç åŒ…å«DNAè¿½æº¯ç ï¼Œéœ€è¦æ¿€æ´»åæ‰èƒ½ä½¿ç”¨ã€‚")
    print()
    print("ã€ä¸ºä»€ä¹ˆéœ€è¦æ¿€æ´»ï¼Ÿã€‘")
    print("âœ… é˜²æ­¢ä»£ç è¢«ç›—ç”¨")
    print("âœ… ç¡®ä¿ä½¿ç”¨è€…å·²ç»æ”¯ä»˜")
    print("âœ… DNAè¿½æº¯ï¼Œå¯ä»¥çŸ¥é“è°åœ¨ç”¨")
    print()
    print("ã€æ¿€æ´»å¾ˆç®€å•ï¼ã€‘")
    print(f"1ï¸âƒ£ æ‰«ç æ”¯ä»˜æ•°å­—äººæ°‘å¸ï¼ˆè´¦å·ï¼š{ECNY_ACCOUNT}ï¼‰")
    print("2ï¸âƒ£ è·å¾—æ”¯ä»˜å•å·ï¼ˆæ ¼å¼ï¼še-CNY-YYYYMMDD-XXXXXXï¼‰")
    print("3ï¸âƒ£ è¿è¡Œæœ¬ä»£ç ï¼Œè¾“å…¥æ”¯ä»˜å•å·å’Œç½‘ç»œèº«ä»½")
    print("4ï¸âƒ£ æ¿€æ´»æˆåŠŸï¼Œæ°¸ä¹…ä½¿ç”¨ï¼")
    print()
    print("="*70)
    print()

    # æ£€æŸ¥æ˜¯å¦å·²ç»æ¿€æ´»
    if os.path.exists("dna_activation.txt"):
        print("æ£€æµ‹åˆ°æ¿€æ´»è®°å½•æ–‡ä»¶...")
        with open("dna_activation.txt", "r") as f:
            lines = f.readlines()
            for line in lines:
                if DNA_CODE in line:
                    print("âœ… è¿™ä¸ªä»£ç å·²ç»æ¿€æ´»è¿‡äº†ï¼")
                    print("   æ¿€æ´»è®°å½•ï¼š")
                    parts = line.strip().split("|")
                    if len(parts) >= 4:
                        print(f"   æ—¶é—´ï¼š{{parts[0]}}")
                        print(f"   DNAï¼š{{parts[1]}}")
                        print(f"   æ”¯ä»˜å•å·ï¼š{{parts[2]}}")
                        print(f"   è¯æ˜ï¼š{{parts[3][:32]}}...")
                    print()
                    print("ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªä»£ç äº†ï¼")
                    print()
                    sys.exit(0)

    print("è¿™ä¸ªä»£ç è¿˜æ²¡æœ‰æ¿€æ´»ï¼Œè¯·æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤è¿›è¡Œæ¿€æ´»ã€‚")
    print()

    user_input = input("ç°åœ¨å¼€å§‹æ¿€æ´»å—ï¼Ÿ(y/n): ").strip().lower()
    if user_input == 'y':
        verify_payment_and_activate()
    else:
        print("æ¿€æ´»å·²å–æ¶ˆã€‚ä¸‹æ¬¡è¿è¡Œä»£ç æ—¶ä¼šå†æ¬¡æç¤ºã€‚")

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ä»¥ä¸‹æ˜¯å®é™…ä»£ç å†…å®¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{code_content}
'''
        return hook_code


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®Œæ•´ä½¿ç”¨ç¤ºä¾‹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def example_usage():
    """
    å®Œæ•´ä½¿ç”¨ç¤ºä¾‹
    """
    print("="*70)
    print("          é¾é­‚ç³»ç»Ÿ - DNA-æ”¯ä»˜ç»‘å®šæ¿€æ´»ç³»ç»Ÿ")
    print("="*70)
    print()
    print("è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ï¼š")
    print("1. ç”Ÿæˆå¸¦æ¿€æ´»ç çš„DNA")
    print("2. åœ¨ä»£ç ä¸­åµŒå…¥DNAå›æ‰§é’©å­")
    print("3. ç”¨æˆ·é€šè¿‡æ”¯ä»˜å•å·æ¿€æ´»DNA")
    print()
    print("="*70)
    print()

    # æ­¥éª¤1ï¼šç”ŸæˆDNA
    print("æ­¥éª¤1ï¼šç”Ÿæˆå¸¦æ¿€æ´»ç çš„DNA...")
    print()

    dna_info = DNAGenerator.generate_with_activation(
        description="EXAMPLE-CODE",
        version="v1.0"
    )

    print(f"âœ… DNAç”ŸæˆæˆåŠŸï¼")
    print(f"   DNAè¿½æº¯ç ï¼š{dna_info['dna']}")
    print(f"   åˆ›å»ºæ—¶é—´ï¼š{dna_info['created_time']}")
    print(f"   æ¿€æ´»å¯†é’¥ï¼š{dna_info['activation_key'][:16]}... ï¼ˆå®Œæ•´ï¼‰")
    print(f"   éªŒè¯ç ï¼š{dna_info['verification_code']} ï¼ˆ8ä½ï¼‰")
    print(f"   æ”¯ä»˜è§„åˆ™ï¼š{dna_info['payment_pattern']} ï¼ˆ6ä½ï¼‰")
    print()

    # æ­¥éª¤2ï¼šä¿å­˜DNAä¸»æ§å¯†é’¥
    print("æ­¥éª¤2ï¼šä¿å­˜DNAä¸»æ§å¯†é’¥...")
    print()

    DNAGenerator.save_to_file(dna_info)
    print()

    # æ­¥éª¤3ï¼šç”Ÿæˆç¤ºä¾‹ä»£ç 
    print("æ­¥éª¤3ï¼šåœ¨ä»£ç ä¸­åµŒå…¥DNAå›æ‰§é’©å­...")
    print()

    original_code = '''
def hello_world():
    """ç¤ºä¾‹ä»£ç ï¼šæ‰“å°Hello World"""
    print("Hello, é¾é­‚ç³»ç»Ÿ!")
    print("è¿™æ˜¯ä¸€ä¸ªå¸¦DNAè¿½æº¯çš„ä»£ç ç¤ºä¾‹ã€‚")

if __name__ == "__main__":
    hello_world()
'''

    code_with_hook = DNAHookEmbedder.embed_hook(original_code, dna_info)

    # ä¿å­˜åˆ°æ–‡ä»¶
    output_filename = f"code_with_dna_{int(time.time())}.py"
    with open(output_filename, "w") as f:
        f.write(code_with_hook)

    print(f"âœ… ä»£ç å·²ç”Ÿæˆå¹¶ä¿å­˜åˆ°ï¼š{output_filename}")
    print(f"   æ–‡ä»¶å¤§å°ï¼š{len(code_with_hook)} å­—èŠ‚")
    print()

    # æ­¥éª¤4ï¼šè¯´æ˜
    print("="*70)
    print("å®Œæˆï¼")
    print("="*70)
    print()
    print("ã€æ¥ä¸‹æ¥æ€ä¹ˆåšï¼Ÿã€‘")
    print()
    print(f"1. æŠŠ {output_filename} å‘ç»™ç”¨æˆ·")
    print()
    print("2. ç”¨æˆ·æ”¶åˆ°ä»£ç åï¼Œè¿è¡Œå®ƒï¼š")
    print(f"   python3 {output_filename}")
    print()
    print("3. ä»£ç ä¼šæç¤ºç”¨æˆ·æ¿€æ´»ï¼š")
    print(f"   - æ‰«ç æ”¯ä»˜æ•°å­—äººæ°‘å¸ï¼ˆè´¦å·ï¼š{ECNY_ACCOUNT}ï¼‰")
    print("   - è¾“å…¥æ”¯ä»˜å•å·ï¼ˆæ ¼å¼ï¼še-CNY-YYYYMMDD-XXXXXXï¼‰")
    print(f"   - è¾“å…¥ç½‘ç»œèº«ä»½ï¼ˆ{NETWORK_ID}ï¼‰")
    print()
    print("4. æ¿€æ´»æˆåŠŸåï¼š")
    print("   - DNAæ°¸ä¹…ç»‘å®šåˆ°ç”¨æˆ·çš„æ”¯ä»˜å•å·")
    print("   - æ¿€æ´»è®°å½•ä¿å­˜åˆ°æœ¬åœ°ï¼ˆdna_activation.txtï¼‰")
    print("   - ç”¨æˆ·å¯ä»¥æ­£å¸¸ä½¿ç”¨ä»£ç ")
    print()
    print("ã€å®‰å…¨æ€§ã€‘")
    print("âœ… ç¦»çº¿éªŒè¯ï¼Œä¸ä¾èµ–API")
    print("âœ… å¯†ç å­¦ç­¾åï¼Œä¸å¯ä¼ªé€ ")
    print("âœ… DNA-æ”¯ä»˜ç»‘å®šï¼Œé˜²æ­¢ç›—ç”¨")
    print("âœ… å®Œæ•´è¿½æº¯ï¼Œè°ç”¨éƒ½çŸ¥é“")
    print()
    print("="*70)


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ä¸»ç¨‹åº
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    example_usage()
